<!-- src/app/location-shows/location-shows.component.html -->
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Shows in this location</h2>
    <button class="btn btn-outline-secondary"
            [routerLink]="['/search']" [queryParams]="{ tab: 'location' }">
      ← Back to Search
    </button>
  </div>

  <div *ngIf="loading" class="text-center">
    Loading…
  </div>
  <div *ngIf="errorMsg" class="alert alert-danger">
    {{ errorMsg }}
  </div>

  <table *ngIf="!loading && shows.length > 0" class="table table-bordered">
    <thead>
    <tr>
      <th>Name</th>
      <th>Date &amp; Time</th>
      <th>Duration</th>
      <th style="width: 250px;">Tickets</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let s of shows">
      <td><strong>{{ s.name }}</strong></td>
      <td>{{ s.date | date:'short' }}</td>
      <td>{{ s.duration }} min</td>
      <td class="d-flex justify-content-center gap-2">
        <button
          class="btn btn-sm btn-primary"
          [routerLink]="['/shows', s.id, 'tickets', 'buy']">
          Buy Ticket
        </button>

        <button
          class="btn btn-sm btn-primary"
          [routerLink]="['/shows', s.id, 'tickets', 'reserve']">
          Reserve Ticket
        </button>
      </td>
    </tr>
    </tbody>
  </table>

  <div *ngIf="!loading && shows.length === 0" class="text-muted text-center">
    No shows found.
  </div>
</div>
