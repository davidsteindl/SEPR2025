<div class="container mt-4">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Update Events</h2>
    <button class="btn btn-outline-secondary" [routerLink]="['/admin']">
      ← Back to Admin Page
    </button>
  </div>
  <hr>

  <div class="card p-4">
    <div *ngIf="loading" class="text-center my-3">Loading…</div>

    <table *ngIf="!loading && events.length" class="table table-striped table-hover">
      <thead class="thead-light">
      <tr>
        <th>Event name</th>
        <th>Description</th>
        <th>Start Date &amp; Time</th>
        <th>Duration</th>
        <th>Category</th>
        <th>Location</th>

        <th class="text-center">Update Event</th>
      </tr>
      <tbody>
      <tr *ngFor="let ev of events">
        <td><strong>{{ ev.name }}</strong></td>
        <td>{{ ev.description }}</td>
        <td>
          <input
            type="datetime-local"
            class="form-control-plaintext"
            [value]="ev.dateTime"
            readonly
          />
        </td>
        <td>{{ ev.duration }}</td>
        <td>{{ ev.category }}</td>
        <td>{{ locationMap[ev.locationId] }}</td>
        <td class="text-center">
          <button
            class="btn btn-sm btn-primary"
            [routerLink]="['/events', ev.id, 'edit']">
            Update
          </button>
        </td>
      </tr>
      </tbody>
    </table>

    <div *ngIf="!loading && events.length === 0" class="text-center text-muted">
      No events found.
    </div>
  </div>
</div>
