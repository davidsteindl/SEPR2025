<div *ngIf="event" class="event-container">

  <div class="d-flex justify-content-between align-items-center border-bottom mb-3 pb-2" style="margin-top: 1rem">
    <h2 class="modal-title">{{ event.name }}</h2>
    <h5 class="text-end mb-0">{{ location?.name }}</h5>
  </div>

  <p>
    <strong>Category:</strong> {{ event.category }}
  </p>

  <p>
    <strong>Artists:</strong>
    <ng-container *ngIf="shows.length > 0 && artistMap[shows[0]?.id]?.length > 0; else noArtistsList">
      <span *ngFor="let artist of artistMap[shows[0].id]; let last = last">
        {{ artist.stagename || (artist.firstname + ' ' + artist.lastname) }}<span *ngIf="!last">, </span>
      </span>
    </ng-container>
    <ng-template #noArtistsList><em>No artists listed</em></ng-template>
  </p>

  <p><strong>Description:</strong></p>
  <div class="bg-light p-3 rounded">{{ event.description }}</div>

  <h4 class="mt-4">Dates</h4>
  <table class="table w-100" style="table-layout: fixed;">
    <thead class="table-light">
    <tr>
      <th>Date</th>
      <th>Begin</th>
      <th>Duration</th>
      <th>Choose Ticket</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let show of shows">
      <td>{{ show.date | date: 'mediumDate' }}</td>
      <td>{{ show.date | date: 'shortTime' }}</td>
      <td>{{ show.duration }} min</td>
      <td>
        <button class="btn btn-sm btn-primary">
          Buy / Reserve Ticket
        </button>
      </td>
    </tr>
    </tbody>
  </table>
</div>

<div *ngIf="!event">
  <p>Loading event overview...</p>
</div>
